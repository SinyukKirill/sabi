#
# Copyright (c) 2020 by Stefan Schubert under the MIT License (MIT).
# See project LICENSE file for the detailed terms and conditions.
#

debug=false

# JPAConfig takes this to configure additional eclipselink properties
h2.test.mode=true

server.port=8080
server.servlet.context-path=/sabi
spring.application.name=sabi-service

# sabi validation mail target
sabi.mailvalidation.url=http://localhost:8080/sabi/api/auth/

spring.main.allow-bean-definition-overriding=true

# jpa config

# JPA Database configuration f\u00FCr in Memory H2
spring.datasource.url=jdbc:h2:mem:test;DB_CLOSE_ON_EXIT=true;DB_CLOSE_DELAY=-1

# Hikari Connection Pool
spring.datasource.type=com.zaxxer.hikari.HikariDataSource
spring.datasource.hikari.minimum-idle=2
spring.datasource.hikari.maximum-pool-size=5
spring.datasource.hikari.connection-timeout=3000

# Eclipselink related (Those settings will be effective only if injected in JPAConfig.java)
eclipselink.target-database=Auto
eclipselink.logging.level=INFO

# Trace transaction behavior, change this to info for production
logging.level.org.springframework.transaction.interceptor=TRACE

# Exchange all values to suite your productive needs.
accessToken.SECRET=p$vmb4*.UV51Ke7akjkjhkjhnbmn7687632jhkjhkj

# Valid duration of the access token in seconds. (The access token is used as session replacement)
accessToken.TTL=600

## Connection parameter to the captcha service
captcha.check.url=http://localhost:8081/captcha/api/check

## To initialize the SMTP interface (used by spring mail auto-configuration)
# for local development I recommend to use fakeSMTP (under linux) or smtp4dev (under windows)
spring.mail.host=localhost
spring.mail.port=2525
spring.mail.username=sabi@bluewhale.de
spring.mail.password=YouWillNeverKnow
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

# Health check for cloud deployment
# https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-features.html#production-ready-endpoints-enabling-endpoints
management.endpoints.enabled-by-default=false
management.endpoint.metrics.enabled=true
management.endpoint.health.enabled=true
management.endpoint.health.show-details=always
management.endpoint.info.enabled=true
management.endpoint.prometheus.enabled=true
management.endpoints.web.exposure.include=metrics,health,info,prometheus
